<nav
  class="pc-sidebar"
  [class.navbar-collapsed]="navCollapsed()"
  [class.mob-open]="navCollapsedMob()"
>
  <div class="navbar-wrapper">
    <div class="m-header">
      <a class="logo" routerLink="/">
        <span class="logo-text">{{ 'app.name' | translate }}</span>
      </a>
      <button type="button" class="pc-hamburger d-lg-none" (click)="toggleMobileMenu()">
        <i class="ti ti-menu-2"></i>
      </button>
    </div>
    <div class="navbar-content">
      <ul class="pc-navbar">
        <li class="pc-item" *ngFor="let item of navigation">
          <a
            class="pc-link"
            [routerLink]="item.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: item.exact ?? false }"
            (click)="closeMenu()"
          >
            <i [class]="item.icon"></i>
            <span>{{ item.labelKey | translate }}</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<header class="pc-header">
  <div class="header-wrapper">
    <div class="me-auto">
      <button type="button" class="pc-hamburger d-none d-lg-inline-flex" (click)="toggleDesktopMenu()">
        <i class="ti ti-menu-2"></i>
      </button>
    </div>
    <div class="ms-auto d-flex align-items-center gap-3">
      <div class="dropdown language-dropdown" [class.show]="isLanguageDropdownOpen()">
        <button
          class="btn btn-sm btn-outline-secondary dropdown-toggle"
          type="button"
          [attr.aria-expanded]="isLanguageDropdownOpen()"
          (click)="toggleLanguageDropdown(); $event.stopPropagation()"
        >
          {{ activeLanguage() | uppercase }}
        </button>
        <ul class="dropdown-menu dropdown-menu-end" [class.show]="isLanguageDropdownOpen()">
          <li *ngFor="let language of languages">
            <button class="dropdown-item" type="button" (click)="changeLanguage(language.code)">
              {{ language.label }}
            </button>
          </li>
        </ul>
      </div>
      <div>
        <label class="form-label text-muted small mb-1" for="tenant-select">
          {{ 'userRegistration.tenant' | translate }}
        </label>
        <select
          id="tenant-select"
          class="form-select form-select-sm"
          (change)="changeTenant($any($event.target).value)"
        >
          <option
            *ngFor="let tenant of tenants"
            [value]="tenant.id"
            [selected]="(activeTenant | async) === tenant.id"
          >
            {{ tenant.labelKey | translate }}
          </option>
        </select>
      </div>
      <button type="button" class="btn btn-sm btn-primary">
        <i class="ti ti-logout me-1"></i>{{ 'layout.logout' | translate }}
      </button>
    </div>
  </div>
</header>

<div class="pc-container">
  <div class="coded-wrapper">
    <div class="coded-content">
      <div class="coded-inner-content">
        <div class="main-body">
          <div class="page-wrapper">
            <router-outlet />
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="pc-menu-overlay"
    (click)="closeMenu()"
    (keydown)="handleKeyDown($event)"
    tabindex="0"
  ></div>
</div>

<footer class="pc-footer">
  <div class="footer-wrapper container-fluid">
    <div class="row">
      <div class="col my-1">
        <p class="m-0">CarePlus &copy; {{ currentYear }}</p>
      </div>
      <div class="col-auto my-1">
        <ul class="list-inline footer-link mb-0">
          <li class="list-inline-item"><a routerLink="/users/register">{{ 'nav.registerUser' | translate }}</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>
